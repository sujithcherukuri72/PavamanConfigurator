<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:PavanamDroneConfigurator.UI.ViewModels"
             x:Class="PavanamDroneConfigurator.UI.Views.AirframePage"
             x:DataType="vm:AirframePageViewModel">

    <ScrollViewer>
        <StackPanel Margin="20" Spacing="12">
            <TextBlock Text="Airframe Selection" FontSize="24" FontWeight="Bold" />
            <TextBlock Text="{Binding StatusMessage}" FontSize="14" />
            <TextBlock Text="Categories: Multicopter, Plane, Rover" FontSize="12" Foreground="Gray" />

            <ListBox ItemsSource="{Binding Airframes}"
                     SelectedItem="{Binding SelectedAirframe}"
                     IsEnabled="{Binding IsInteractionEnabled}"
                     Margin="0,10,0,0">
                <ListBox.ItemTemplate>
                    <DataTemplate x:DataType="vm:AirframeOption">
                        <Border BorderBrush="#DDD" BorderThickness="1" CornerRadius="4" Padding="10" Margin="0,5">
                            <StackPanel Spacing="4">
                                <TextBlock Text="{Binding Category}" FontWeight="Bold" />
                                <TextBlock Text="{Binding Name}" FontSize="16" FontWeight="SemiBold" />
                                <TextBlock Text="{Binding Description}" FontSize="12" Foreground="Gray" />
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>

            <StackPanel Orientation="Horizontal" Spacing="10" VerticalAlignment="Center">
                <Button Content="Apply Airframe"
                        Command="{Binding ApplyAirframeCommand}"
                        IsEnabled="{Binding CanApply}"
                        MinWidth="140" />
                <ProgressBar Width="120" Height="10" IsIndeterminate="True" IsVisible="{Binding IsApplying}" />
            </StackPanel>

            <TextBlock Text="Connect to the vehicle and wait for parameters to download before applying an airframe."
                       Foreground="Gray" FontSize="12" />
        </StackPanel>
    </ScrollViewer>
</UserControl>
